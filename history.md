# LuaSTG Sub 更新历史记录

* LuaSTG Sub 0.20.5
    * 平台
        * 修改：现在要求 Windows 7 操作系统必须安装 `KB2533623` 补丁
    * 渲染
        * 修改：内置的基本渲染器所使用的着色器预编译为字节码，不再在运行时动态编译
        * 修改：着色器编译库 `d3dcompiler_47.dll` 已改为按需加载，如果开发者没有用到模型渲染功能或者后处理特效功能，那么将不会加载
    * 音频
        * 修复：切换音频设备后，背景音乐不会继续播放
    * Lua 虚拟机
        * 修复：由于（未知的）历史原因，之前仅提供 `?.lua` 搜索路径，未默认提供 `?/init.lua` 搜索路径，现在已补上缺失的 `?/init.lua` 搜索路径
    * 游戏对象
        * 修复：修复了 `dx`、`dy` 的值在游戏对象创建后第 1 帧可能计算不正确的未定义行为，触发的原因是第 0 帧生成时记录 `lastx`、`lasty` 在 `lstg.New` 函数调用返回前，如果随后修改了游戏对象的 `x`、`y` 坐标，将导致记录的 `lastx`、`lasty` 并非期望的值
        * 修复：修复了 `lstg.BoxCheck` 不包含边界的问题，并去除了意味不明的单参数重载
* LuaSTG Sub 0.20.4
    * 音频
        * 修改：现在音频系统支持从错误中恢复，或者在无音频设备的计算机上以空白模式继续运行
* LuaSTG Sub 0.20.3
    * 引擎基础
        * 修改：现在可以通过配置文件来指定 `log` 日志文件的储存位置，详情请参考 `doc/specification/引擎配置文件.md` 文档
    * 数学
        * 修改：随机数发生器 `lstg.Rand:Int` 和 `lstg.Rand:Float` 方法不再要求第二个参数大于或等于第一个参数
* LuaSTG Sub 0.20.2
    * 窗口
        * 修复：修复了按住 `Alt` 键的同时切换到别的窗口后会导致引擎一直以为 `Alt` 键处于按下状态
    * 渲染
        * 修复：修复了 `lstg.Render`、`lstg.RenderRect`、`lstg.Render4V`、`lstg.RenderAnimation` 在找不到资源时不抛出错误的问题
* LuaSTG Sub 0.20.1
    * 引擎基础
        * 不再使用 `fancylib` 库
